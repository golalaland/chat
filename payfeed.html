<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel</title>
<style>
body { font-family: '乂丨乂丨', monospace; background:#121212; color:#eee; margin:0; padding:0; }
.hidden { display:none; }
section { padding:20px; }
table { width:100%; border-collapse: collapse; margin-top:10px; }
table th, table td { border:1px solid #333; padding:6px; text-align:left; }
input[type=text], input[type=number] { background:#222; color:#eee; border:1px solid #555; padding:3px; }
button { padding:4px 8px; margin:2px; cursor:pointer; }
.btn-primary { background:#0b79d0; color:#fff; border:none; }
.btn-danger { background:#d00; color:#fff; border:none; }
.btn.small { font-size:0.8rem; }
#loaderOverlay { position:fixed; inset:0; display:none; justify-content:center; align-items:center; background:rgba(0,0,0,0.7); z-index:9999; color:#fff; font-size:1.2rem; }
</style>
</head>
<body>

<div id="loaderOverlay"><span id="loaderText">Processing...</span></div>

<!-- Admin login -->
<section id="adminGate">
  <h2>Admin Login</h2>
  <input type="text" id="adminEmail" placeholder="Enter admin email" style="width:250px"/>
  <button id="adminCheckBtn" class="btn btn-primary">Check</button>
  <div id="adminGateMsg" style="margin-top:10px; color:#f88"></div>
</section>

<!-- Admin panel -->
<section id="adminPanel" class="hidden">
  <h2>Admin Panel <button id="logoutBtn" class="btn btn-danger">Logout</button></h2>
  <div>Current Admin: <span id="currentAdminEmail"></span></div>

  <!-- Users -->
  <h3>Users</h3>
  <input type="text" id="userSearch" placeholder="Search users..." style="width:200px"/>
  <button id="selectAllUsers" type="checkbox">Select All</button>
  <button id="massRemoveUsersBtn" class="btn btn-danger">Remove Selected</button>
  <button id="copyToFeaturedBtn" class="btn btn-primary">Copy to Featured</button>
  <button id="exportCurrentCsv" class="btn btn-primary">Export CSV</button>
  <table id="usersTable">
    <thead>
      <tr>
        <th></th><th>Email</th><th>Phone</th><th>ChatId</th>
        <th>Stars</th><th>Cash</th><th>VIP</th><th>Admin</th>
        <th>Host</th><th>Sub Active</th><th>Featured</th><th>Popup</th>
        <th>Video</th><th>Actions</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <!-- Whitelist -->
  <h3>Whitelist</h3>
  <input type="text" id="wlEmail" placeholder="Email" style="width:180px"/>
  <input type="text" id="wlPhone" placeholder="Phone" style="width:120px"/>
  <button id="addWhitelistBtn" class="btn btn-primary">Add</button>
  <input type="file" id="wlCsvUpload"/>
  <label><input type="checkbox" id="cleanUpLady"/> Clean old whitelist</label>
  <button id="selectAllWhitelist" type="checkbox">Select All</button>
  <button id="massRemoveWhitelistBtn" class="btn btn-danger">Remove Selected</button>
  <table id="whitelistTable">
    <thead>
      <tr>
        <th></th><th>Email</th><th>Phone</th><th>Status</th><th>Actions</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <!-- Featured Hosts -->
  <h3>Featured Hosts</h3>
  <button id="selectAllFeatured" type="checkbox">Select All</button>
  <button id="massRemoveFeaturedBtn" class="btn btn-danger">Remove Selected</button>
  <button id="exportFeaturedCsv" class="btn btn-primary">Export Featured CSV</button>
  <table id="featuredTable">
    <thead>
      <tr>
        <th></th><th>Email</th><th>Phone</th><th>Popup</th><th>Video</th><th>Added At</th><th>Actions</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</section>

<script type="module" src="admin-payfeed.js"></script>
</body>
</html>