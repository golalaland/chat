<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>Xixi — Rewards</title>
<link rel="icon" href="data:," />
<style>
:root{
  --bg:#0a0a0a;
  --card:#111;
  --muted:#888;
  --accent:#0ff;
  --accent-light:#33ffff;
  --border:#222;
}
html,body{
  height:100%;margin:0;
  font-family: Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;
  background:var(--bg);color:#eee;
}
.brand{
  font-weight:700;font-size:22px;text-align:center;
  color:var(--accent);margin:15px 0;
}
.google-btn{
  background:var(--accent);color:#000;
  border:none;padding:12px 16px;
  border-radius:6px;cursor:pointer;
  font-size:14px;font-weight:600;
  margin:10px auto;display:block;
}
.google-btn:hover{background:var(--accent-light);}
.profile-card{
  background:var(--card);border:1px solid var(--border);
  padding:16px;border-radius:12px;margin:16px auto;
  max-width:420px;text-align:center;
}
.row-stats{
  background:#1a1a1a;border:1px solid var(--border);
  padding:12px;border-radius:10px;margin:8px 0;
  display:flex;justify-content:space-between;
}
.row-label{color:var(--muted);font-size:14px;}
.row-value{color:var(--accent);font-size:15px;font-weight:600;}
.perk-card{
  background:var(--card);border:1px solid var(--border);
  padding:14px;border-radius:10px;margin:10px auto;
  max-width:400px;text-align:center;
}
.perk-title{font-size:16px;font-weight:600;margin-bottom:6px;}
.perk-cost{color:var(--accent);font-size:14px;font-weight:600;}
.perk-available{color:var(--muted);font-size:13px;margin:4px 0;}
.exit-btn{
  background:var(--accent);color:#000;
  border:none;padding:10px 14px;
  border-radius:6px;cursor:pointer;
  font-size:13px;font-weight:600;
}
.exit-btn:hover{background:var(--accent-light);}
.success-message{
  color:var(--accent);font-size:14px;font-weight:600;
  margin-top:10px;display:none;opacity:1;
  transition:opacity 1s ease-out;
}
</style>
</head>
<body>

<div class="brand">Xixi — Rewards</div>

<!-- Google Sign-In -->
<button class="google-btn" onclick="signInWithGoogle()">Sign in with Google</button>

<div class="profile-card">
  <div class="row-stats"><span class="row-label">Stars Collected:</span><span id="starsCollected" class="row-value">21 ⭐️</span></div>
  <div class="row-stats"><span class="row-label">Stars Balance:</span><span id="starsBalance" class="row-value">21 ⭐️</span></div>
  <div class="row-stats"><span class="row-label">Cash Collected:</span><span id="cashCollected" class="row-value">₦1,000,000</span></div>
  <div class="row-stats"><span class="row-label">Cash Balance:</span><span id="cashBalance" class="row-value">₦1,000,000</span></div>
</div>

<!-- Perks Section -->
<div id="perks-container"></div>

<div style="text-align:center;margin:20px;">
  <button class="exit-btn">⬅ Back to Chatroom</button>
</div>

<script>
// Initial values
let starsCollected = 21;
let starsBalance = 21;
let cashCollected = 1000000;
let cashBalance = 1000000;

let perks = [
  {title:"Exclusive Reward", cost:10, available:8},
  {title:"VIP Badge", cost:5, available:5},
  {title:"Premium Gift", cost:15, available:3}
];

function renderBalances(){
  document.getElementById("starsCollected").textContent = starsCollected + " ⭐️";
  document.getElementById("starsBalance").textContent = starsBalance + " ⭐️";
  document.getElementById("cashCollected").textContent = "₦" + cashCollected.toLocaleString();
  document.getElementById("cashBalance").textContent = "₦" + cashBalance.toLocaleString();
}

function renderPerks(){
  let container = document.getElementById("perks-container");
  container.innerHTML = "";
  perks.forEach((perk, idx)=>{
    let card = document.createElement("div");
    card.className = "perk-card";
    card.innerHTML = `
      <div class="perk-title">${perk.title}</div>
      <div class="perk-cost">Cost: ${perk.cost} ⭐️</div>
      <div class="perk-available">${perk.available} available today</div>
      <button class="google-btn" onclick="redeem(${idx})">Redeem</button>
      <div id="successMsg${idx}" class="success-message">✅ Successfully Redeemed!</div>
    `;
    container.appendChild(card);
  });
}

function redeem(index){
  let perk = perks[index];
  if(starsBalance >= perk.cost && perk.available > 0){
    starsBalance -= perk.cost;
    perk.available -= 1;
    renderBalances();
    renderPerks();
    let msg = document.getElementById("successMsg"+index);
    msg.style.display = "block";
    msg.style.opacity = 1;
    setTimeout(()=>{ msg.style.opacity = 0; },2000);
    setTimeout(()=>{ msg.style.display = "none"; },3000);
  } else {
    alert("Not enough stars or no availability left!");
  }
}

function signInWithGoogle(){
  alert("Google Sign-In flow goes here.");
}

// Initial render
renderBalances();
renderPerks();
</script>

</body>
</html>