<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shop Admin Dashboard</title>
<style>
  /* ---------- GENERAL ---------- */
  body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f0f2f5; color:#333; }
  h1,h2,h3 { margin:0; }
  button { cursor:pointer; }

  /* ---------- LOADER ---------- */
  #loaderOverlay {
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.4);
    z-index:2000;
    justify-content:center;
    align-items:center;
  }
  #loaderOverlay span { background:#fff; padding:12px 20px; border-radius:8px; font-weight:bold; }

  /* ---------- LOGIN GATE ---------- */
  #adminGate { display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; }
  #adminGate input { padding:10px; width:250px; margin-bottom:10px; border-radius:6px; border:1px solid #ccc; }
  #adminGate button { padding:10px 20px; border:none; background:#007bff; color:#fff; border-radius:6px; }

  /* ---------- DASHBOARD ---------- */
  #adminPanel { display:none; padding:20px; }
  .section { background:#fff; border-radius:8px; padding:15px; margin-bottom:20px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }

  table { width:100%; border-collapse:collapse; }
  th, td { padding:8px; border-bottom:1px solid #eee; text-align:left; }
  th { background:#f7f7f7; }

  .btn { padding:5px 10px; border:none; border-radius:5px; }
  .btn-primary { background:#007bff; color:#fff; }
  .btn-danger { background:#dc3545; color:#fff; }
  .btn-small { padding:3px 6px; font-size:12px; }

  .hidden { display:none; }

  /* ---------- MODAL ---------- */
  .modalOverlay {
    position:fixed; inset:0; background:rgba(0,0,0,0.4); display:flex; justify-content:center; align-items:center; z-index:3000;
  }
  .modalContent {
    background:#fff; padding:20px; border-radius:8px; min-width:300px; max-width:90%;
  }
</style>
</head>
<body>

<!-- LOADER -->
<div id="loaderOverlay"><span id="loaderText">Processing...</span></div>

<!-- ADMIN LOGIN GATE -->
<div id="adminGate">
  <h2>Admin Login</h2>
  <input type="email" id="adminEmail" placeholder="Enter admin email">
  <button id="adminCheckBtn">Enter Dashboard</button>
  <p id="adminGateMsg" style="color:red;margin-top:5px;"></p>
</div>

<!-- DASHBOARD -->
<div id="adminPanel">
  <div style="display:flex; justify-content:space-between; align-items:center;">
    <h1>Shop Admin Dashboard</h1>
    <div>
      <span id="currentAdminEmail"></span>
      <button id="logoutBtn" class="btn btn-danger">Logout</button>
    </div>
  </div>

  <!-- USERS SECTION -->
  <div class="section">
    <h2>Users</h2>
    <input type="text" id="userSearch" placeholder="Search by email or ID" style="margin-bottom:10px;padding:6px;width:200px;">
    <table id="usersTable">
      <thead>
        <tr>
          <th>Email</th>
          <th>Phone</th>
          <th>Stars</th>
          <th>Cash</th>
          <th>VIP</th>
          <th>Admin</th>
          <th>Subscription</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <button id="exportCsv" class="btn btn-primary" style="margin-top:10px;">Export CSV</button>
  </div>

  <!-- PRODUCTS SECTION -->
  <div class="section">
    <h2>Products</h2>
    <table id="productsTable">
      <thead>
        <tr><th>Name</th><th>Price</th><th>Stars</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>

<script type="module" src="adminshop.js"></script>
</body>
</html>