<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scramble Game Demo</title>
<style>
  body { font-family: sans-serif; background: #111; color: #fff; display:flex; flex-direction:column; align-items:center; margin:0; padding:20px;}
  .stats { display:flex; gap:20px; margin-bottom:10px; font-weight:bold;}
  .scramble-board { background:#222; padding:15px; border-radius:10px; text-align:center; margin-bottom:10px;}
  #scrambleLetters { font-size:24px; letter-spacing:4px; margin-bottom:10px;}
  input, button { padding:8px 12px; border-radius:8px; border:none; font-size:16px;}
  input { width:200px; margin-right:5px; }
  button { background:#ff1493; color:#000; cursor:pointer; }
  button:hover { transform:scale(1.05); }
  .buzz-log { max-height:200px; overflow-y:auto; width:100%; max-width:400px; margin-top:10px; border:1px solid rgba(255,255,255,0.2); border-radius:8px; padding:5px; }
  .buzz-item { background:#FF1493; color:#000; margin:4px 0; padding:4px 8px; border-radius:6px; font-weight:bold; }
  .star-popup { position:fixed; top:20%; left:50%; transform:translateX(-50%); background:#222; padding:10px 15px; border-radius:8px; display:none; font-weight:bold; color:#FF1493; }
</style>
</head>
<body>

<div class="stats">
  <div>Stars: <span id="starCount">100</span>‚≠ê</div>
  <div>Cash: ‚Ç¶<span id="cashCount">0</span></div>
</div>

<div class="scramble-board">
  <div id="scrambleLetters">...</div>
  <input type="text" id="scrambleInput" placeholder="Type a word">
  <button id="buzzBtn">üö® Buzz!</button>
  <div>Submissions left: <span id="submissionsLeft">25</span></div>
</div>

<div class="buzz-log" id="buzzLog"></div>

<div class="star-popup" id="starPopup">+10 Stars!</div>

<script>
(() => {
  // ----- Game State -----
  let currentLetters = [];
  let validWords = [];
  let submissions = new Set();
  let submissionsLeft = 25;
  let starCount = 100;
  let cashCount = 0;
  const STAR_COST = 5;     // Cost per submission
  const STAR_REWARD = 10;  // Reward per valid word
  const CASH_REWARD = 50;  // Cash per valid word

  const lettersEl = document.getElementById("scrambleLetters");
  const inputEl = document.getElementById("scrambleInput");
  const buzzBtn = document.getElementById("buzzBtn");
  const buzzLog = document.getElementById("buzzLog");
  const starCountEl = document.getElementById("starCount");
  const cashCountEl = document.getElementById("cashCount");
  const submissionsLeftEl = document.getElementById("submissionsLeft");
  const starPopup = document.getElementById("starPopup");

  // ----- Sample word list generator -----
  const sampleWords = ["SKIP","TIPS","SPOT","STOP","POTS","KITS","DIPS","TIP","KIT","TOP","PIT","SIT","POT","DOT","KITTY","SIP","SKIT","POTS","SKID","DIT","TID","PITS","SKID","SKIT","KID","SOD"];

  function pickRandomLetters() {
    // pick 7 letters that will generate at least 25 sample words
    return ["S","K","P","K","T","S","D"];
  }

  function startNewScramble() {
    currentLetters = pickRandomLetters();
    validWords = sampleWords.slice(0,25);
    submissions.clear();
    submissionsLeft = 25;
    lettersEl.textContent = currentLetters.join(" ");
    submissionsLeftEl.textContent = submissionsLeft;
    inputEl.value = "";
    buzzLog.innerHTML = "";
    showPopup("New Scramble! Try your luck!");
  }

  function showPopup(text) {
    starPopup.textContent = text;
    starPopup.style.display = "block";
    setTimeout(()=>starPopup.style.display="none",1500);
  }

  function validateWord(word) {
    if(!word) return false;
    word = word.toUpperCase();
    if(!validWords.includes(word)) return false;
    if(submissions.has(word)) return false;
    return true;
  }

  function submitWord() {
    const word = inputEl.value.trim().toUpperCase();
    if(starCount < STAR_COST){
      showPopup("Not enough stars!");
      return;
    }
    if(submissionsLeft <=0){
      showPopup("Scramble full! Wait for next one.");
      return;
    }
    if(!validateWord(word)){
      showPopup("Invalid or duplicate word!");
      inputEl.value="";
      return;
    }

    // Deduct stars
    starCount -= STAR_COST;
    starCountEl.textContent = starCount;

    // Accept submission
    submissions.add(word);
    submissionsLeft--;
    submissionsLeftEl.textContent = submissionsLeft;

    // Reward
    starCount += STAR_REWARD;
    cashCount += CASH_REWARD;
    starCountEl.textContent = starCount;
    cashCountEl.textContent = cashCount;

    // Add to log
    const item = document.createElement("div");
    item.className = "buzz-item";
    item.textContent = word;
    buzzLog.appendChild(item);
    buzzLog.scrollTop = buzzLog.scrollHeight;

    showPopup(`+${STAR_REWARD} Stars & +‚Ç¶${CASH_REWARD}`);
    inputEl.value="";
  }

  buzzBtn.addEventListener("click",submitWord);
  inputEl.addEventListener("keypress",(e)=>{if(e.key==="Enter") submitWord();});

  // ----- Auto scramble every 60 seconds -----
  startNewScramble();
  setInterval(startNewScramble,60000);

})();
</script>

</body>
</html>