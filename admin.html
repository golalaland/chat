<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Dashboard</title>
<style>
:root {
  --bg: #f5f5f5;
  --card-bg: #fff;
  --accent: #ff33cc;
  --text: #000;
  --btn-bg: #ff33cc;
  --btn-text: #fff;
}
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  display: flex;
  height: 100vh;
}

/* Sidebar */
.sidebar {
  width: 220px;
  background: #222;
  color: #eee;
  display: flex;
  flex-direction: column;
  padding: 1rem;
}
.sidebar h2 { margin: 0 0 1.5rem 0; text-align: center; }
.sidebar button {
  background: none;
  border: none;
  color: #eee;
  text-align: left;
  padding: 0.6rem 1rem;
  margin: 0.2rem 0;
  cursor: pointer;
  border-radius: 6px;
}
.sidebar button:hover, .sidebar button.active {
  background: var(--accent);
  color: #fff;
}

/* Main */
.main { flex: 1; display: flex; flex-direction: column; }
.topbar {
  background: var(--card-bg);
  padding: 0.8rem 1rem;
  border-bottom: 1px solid #ddd;
  display: flex; justify-content: space-between; align-items: center;
}
.content { flex: 1; overflow-y: auto; padding: 1rem; }
.card {
  background: var(--card-bg);
  padding: 1rem;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  margin-bottom: 1rem;
}
.card h3 { margin-top: 0; }
button.action {
  background: var(--btn-bg);
  color: var(--btn-text);
  border: none;
  padding: 0.4rem 0.8rem;
  font-weight: bold;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.2s;
}
button.action:hover { background: #ff66d6; }
input, select {
  width: 100%; padding: 0.4rem;
  margin: 0.3rem 0 0.8rem 0;
  border-radius: 5px; border: 1px solid #ccc;
}
.table { width: 100%; border-collapse: collapse; }
.table th, .table td {
  padding: 0.6rem;
  border-bottom: 1px solid #eee;
  text-align: left;
}
.table th { background: #f0f0f0; }
</style>
</head>
<body>

<!-- Sidebar -->
<div class="sidebar">
  <h2>üéõÔ∏è Admin</h2>
  <button class="active" onclick="showView('rooms')">Rooms</button>
  <button onclick="showView('users')">Users</button>
  <button onclick="showView('shop')">Shop</button>
  <button onclick="showView('quick')">Quick Actions</button>
  <button onclick="showView('settings')">Settings</button>
</div>

<!-- Main -->
<div class="main">
  <div class="topbar">
    <span>Admin Dashboard</span>
    <button class="action">Logout</button>
  </div>
  <div class="content">

    <!-- Rooms -->
    <div id="view-rooms" class="view">
      <div class="card">
        <h3>Rooms Control</h3>
        <select id="roomSelect"></select>
        <div>
          <button class="action" id="muteRoomBtn">Toggle Mute</button>
          <button class="action" id="slowChatBtn">Toggle Slow Chat</button>
        </div>
      </div>
      <div class="card">
        <h3>Room Stats</h3>
        <p>Total Users: <span id="roomUserCount">0</span></p>
        <p>Hosts: <span id="roomHostCount">0</span></p>
        <p>Banned: <span id="roomBannedCount">0</span></p>
      </div>
      <div class="card">
        <h3>Broadcast Message</h3>
        <textarea id="broadcastMsg" rows="3" style="width:100%"></textarea>
        <button class="action" id="sendBroadcastBtn">Send Broadcast</button>
      </div>
    </div>

    <!-- Users -->
    <div id="view-users" class="view" style="display:none">
      <div class="card">
        <h3>Users in Room</h3>
        <input type="text" id="userSearch" placeholder="Search user...">
        <select id="userFilter">
          <option value="all">All</option>
          <option value="hosts">Hosts</option>
          <option value="banned">Banned</option>
          <option value="kicked">Kicked</option>
        </select>
        <table class="table">
          <thead>
            <tr><th>User</th><th>Host</th><th>Status</th><th>Actions</th></tr>
          </thead>
          <tbody id="userList"></tbody>
        </table>
      </div>
    </div>

    <!-- Shop -->
    <div id="view-shop" class="view" style="display:none">
      <div class="card">
        <h3>Shop Items</h3>
        <label>Preview as: 
          <select id="shopViewMode">
            <option value="admin">Admin</option>
            <option value="host">Host</option>
            <option value="user">Normal User</option>
          </select>
        </label>
        <table class="table">
          <thead>
            <tr><th>Item</th><th>Cost</th><th>Cash Reward</th><th>Stock</th><th>Host Only</th><th>Actions</th></tr>
          </thead>
          <tbody id="shopList"></tbody>
        </table>
      </div>
      <div class="card">
        <h3>Add / Edit Item</h3>
        <input type="text" id="productName" placeholder="Product Name">
        <input type="text" id="productImg" placeholder="Image URL">
        <input type="number" id="productCost" placeholder="Cost in Stars">
        <input type="number" id="productCashReward" placeholder="Cash Reward">
        <input type="number" id="productStock" placeholder="Available">
        <label><input type="checkbox" id="productHostOnly"> Host Only</label>
        <button class="action" id="saveProductBtn">Save / Add Product</button>
      </div>
    </div>

    <!-- Quick Actions -->
    <div id="view-quick" class="view" style="display:none">
      <div class="card">
        <h3>Quick Actions</h3>
        <button class="action" onclick="clearKicks()">Clear All Kicks</button>
        <button class="action" onclick="resetRoomControls()">Reset Mute/Slowchat</button>
        <button class="action" onclick="giveDemoCredits()">Give Demo Credits</button>
        <button class="action" onclick="loadUsers(currentRoomId)">Refresh Users</button>
      </div>
    </div>

    <!-- Settings -->
    <div id="view-settings" class="view" style="display:none">
      <div class="card">
        <h3>Settings</h3>
        <p>Later: dark mode toggle, admin roles/permissions, etc.</p>
      </div>
    </div>

  </div>
</div>

<script>
function showView(id) {
  document.querySelectorAll('.view').forEach(v => v.style.display = 'none');
  document.getElementById('view-' + id).style.display = 'block';
  document.querySelectorAll('.sidebar button').forEach(b => b.classList.remove('active'));
  event.target.classList.add('active');
}
</script>
</body>
</html>