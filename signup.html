<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VIP / Host Signup</title>
<style>
  /* ---------- GLOBAL ---------- */
  * { margin:0; padding:0; box-sizing:border-box; font-family:Arial,sans-serif; }
  body { background:#111; color:#fff; display:flex; justify-content:center; align-items:flex-start; min-height:100vh; padding:20px; }

  /* ---------- CONTAINER ---------- */
  .signup-container { width:100%; max-width:420px; text-align:center; }

  /* ---------- VIDEO ---------- */
  .video-frame { width:100%; height:220px; margin-bottom:20px; border-radius:12px; overflow:hidden; background:#222; }
  .video-frame iframe { width:100%; height:100%; }

  /* ---------- FIELDS ---------- */
  .input-field { width:90%; padding:14px 16px; margin:10px auto; border-radius:28px; border:none; background:#1a1a1a; color:#fff; font-size:1rem; outline:none; }
  ::placeholder { color:#777; }

  /* ---------- GENDER BUTTONS ---------- */
  .gender-btns { display:flex; justify-content:center; gap:20px; margin:15px 0; }
  .gender-btn {
    width:60px; height:60px; border-radius:50%; border:none; cursor:pointer;
    background:#1a1a1a; color:#fff; font-weight:bold; font-size:0.85rem;
    display:flex; justify-content:center; align-items:center; box-shadow:0 4px 6px rgba(0,0,0,0.4);
    transition:all 0.2s;
  }
  .gender-btn.selected { background:#ff2fa0; box-shadow:0 0 12px #ff2fa0; transform:scale(1.1); }

  /* ---------- VIP TOGGLE ---------- */
  .vip-section { margin:20px 0; position:relative; }
  .vip-title { font-size:1.2rem; margin-bottom:8px; transition:color 0.3s; }
  .vip-toggle { width:60px; height:30px; border-radius:30px; background:#333; margin:0 auto; cursor:pointer; position:relative; }
  .vip-toggle-circle { width:26px; height:26px; border-radius:50%; background:#777; position:absolute; top:2px; left:2px; transition:all 0.3s; box-shadow:0 2px 6px rgba(0,0,0,0.5); }
  .vip-toggle.active .vip-toggle-circle { left:32px; background:gold; box-shadow:0 0 12px gold; }
  .vip-msg { font-size:0.9rem; margin-top:8px; color:gold; display:none; }

  /* ---------- SIGNUP BUTTON ---------- */
  .signup-btn { padding:12px 28px; margin-top:20px; border-radius:28px; border:none; background:linear-gradient(90deg,#ff6a00,#ee0979); color:#fff; font-size:1rem; font-weight:bold; cursor:pointer; transition:all 0.2s; }
  .signup-btn:hover { transform:scale(1.05); }

  /* ---------- FIREWORKS CANVAS ---------- */
  #fireworksCanvas { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:10; }
</style>
</head>
<body>
<div class="signup-container">

  <!-- Video -->
  <div class="video-frame">
    <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1&mute=1&loop=1&playlist=dQw4w9WgXcQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
  </div>

  <!-- Dynamic VIP message -->
  <div class="vip-title" id="vipTitle">You’re in {username}’s VIP Tab</div>

  <!-- Input fields -->
  <input type="text" class="input-field" placeholder="Name" id="nameField">
  <input type="text" class="input-field" placeholder="Phone" id="phoneField">
  <input type="email" class="input-field" placeholder="Email" id="emailField">

  <!-- Gender selection -->
  <div class="gender-btns">
    <button class="gender-btn" data-gender="female">Female</button>
    <button class="gender-btn" data-gender="male">Male</button>
  </div>

  <!-- VIP Toggle -->
  <div class="vip-section">
    <div class="vip-toggle" id="vipToggle">
      <div class="vip-toggle-circle"></div>
    </div>
    <div class="vip-msg" id="vipMsg">You’re in VIP zone, way to go!</div>
  </div>

  <!-- Signup Button -->
  <button class="signup-btn" id="signupBtn">Sign Up</button>

</div>

<!-- Fireworks Canvas -->
<canvas id="fireworksCanvas"></canvas>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
  // ---------- Variables ----------
  let selectedGender = null;
  let isVip = false;
  const vipToggle = document.getElementById('vipToggle');
  const vipCircle = vipToggle.querySelector('.vip-toggle-circle');
  const vipMsg = document.getElementById('vipMsg');
  const vipTitle = document.getElementById('vipTitle');
  const genderBtns = document.querySelectorAll('.gender-btn');
  const signupBtn = document.getElementById('signupBtn');
  const fireworksCanvas = document.getElementById('fireworksCanvas');
  let fireworksInterval;

  // ---------- Gender Selection ----------
  genderBtns.forEach(btn => {
    btn.addEventListener('click', ()=> {
      genderBtns.forEach(b=>b.classList.remove('selected'));
      btn.classList.add('selected');
      selectedGender = btn.dataset.gender;
    });
  });

  // ---------- VIP Toggle ----------
  vipToggle.addEventListener('click', ()=>{
    isVip = !isVip;
    vipToggle.classList.toggle('active', isVip);
    vipMsg.style.display = isVip ? 'block' : 'none';
    vipTitle.style.color = isVip ? 'gold' : '#fff';
    if(isVip){
      startFireworks();
    } else{
      stopFireworks();
    }
  });

  // ---------- Fireworks ----------
  const startFireworks = () => {
    fireworksInterval = setInterval(()=> {
      confetti({
        particleCount: 20,
        spread: 70,
        origin: { y:0.6 },
        colors:['#FFD700','#FF69B4','#FF2FA0']
      });
    }, 500);
  }
  const stopFireworks = () => { clearInterval(fireworksInterval); }

  // ---------- Signup ----------
  signupBtn.addEventListener('click', ()=> {
    const name = document.getElementById('nameField').value.trim();
    const phone = document.getElementById('phoneField').value.trim();
    const email = document.getElementById('emailField').value.trim();

    if(!name || !phone || !email || !selectedGender){
      alert("Please fill all fields and select gender!");
      return;
    }

    // TODO: Push to Firestore whitelist collection
    console.log({
      name, phone, email, gender:selectedGender, isVip
    });

    alert("Signup successful! Now redirect to Paystack (mock).");
    // TODO: Redirect to Paystack & handle post-payment logic
  });
</script>
</body>
</html>